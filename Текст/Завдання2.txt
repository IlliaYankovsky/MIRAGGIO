
&НаКлиенте
Процедура Завдання2(Команда)
	
	Если Не Объект.Кількість > 0 Тогда
		
		Сообщить("Не заповненно кількість чисел");
		Возврат; 
		
	КонецЕсли;
	
	МасивЧисел = Новый Массив;
	
	Для Ітератор = 0 По Объект.Кількість - 1 Цикл
		
		МасивЧисел.Добавить(Ітератор + 1);	
		
	КонецЦикла; //Заповнили масив числами по порядку 
	
	СтрокаЗМасиву = СтрСоединить(МасивЧисел, ";");
	Сообщить("Відсортований масив: " + СтрокаЗМасиву);
	
	Рандом = Новый ГенераторСлучайныхЧисел(ТекущаяУниверсальнаяДатаВМиллисекундах());
	
	ЕлементДляВидалення = Рандом.СлучайноеЧисло(0, Объект.Кількість - 1);
	
	МасивЧисел.Удалить(ЕлементДляВидалення); //Видалили випадковий елемент масиву
	СтрокаЗМасивуПісляВидалення = СтрСоединить(МасивЧисел, ";");
	Сообщить("Видалили випадковий елеменет: " + СтрокаЗМасивуПісляВидалення);
	
	Ітератор = МасивЧисел.Количество() - 1;
	Пока Ітератор >= 1 Цикл
		
		Рандом = Новый ГенераторСлучайныхЧисел(ТекущаяУниверсальнаяДатаВМиллисекундах());
		ЕлементДляЗаміни = Рандом.СлучайноеЧисло(0, Ітератор);
		
		Если МасивЧисел[Ітератор] = МасивЧисел[ЕлементДляЗаміни] Тогда
			Продолжить;
		Иначе
			МасивЧисел[Ітератор] = МасивЧисел[Ітератор] - МасивЧисел[ЕлементДляЗаміни];
			МасивЧисел[ЕлементДляЗаміни] = МасивЧисел[ЕлементДляЗаміни] + МасивЧисел[Ітератор];
			МасивЧисел[Ітератор] = МасивЧисел[ЕлементДляЗаміни] - МасивЧисел[Ітератор]; 
		КонецЕсли;
		Ітератор = Ітератор - 1;
		
	КонецЦикла; //Перемішали елементи масиву
	
	СтрокаЗМасивуПісляПеремішування = СтрСоединить(МасивЧисел, ";");
	Сообщить("Масив перемішали: " + СтрокаЗМасивуПісляПеремішування);
	
	СписокДляСортування = Новый СписокЗначений;
	СписокДляСортування.ЗагрузитьЗначения(МасивЧисел);
	СписокДляСортування.СортироватьПоЗначению(НаправлениеСортировки.Возр);
	МасивЧисел = СписокДляСортування.ВыгрузитьЗначения();   // Відсортували перемішаний масив
	
	СтрокаЗМасивуПісляСортування = СтрСоединить(МасивЧисел, ";");
	Сообщить("Масив відсортували: " + СтрокаЗМасивуПісляСортування);
		
	Если МасивЧисел.Количество() > 0 Тогда
		Если Не МасивЧисел[0] = 1 Тогда   //якщо перший елемент не 1, то втратили його
			МасивЧисел.Вставить(0, 1);
		ИначеЕсли Не МасивЧисел[МасивЧисел.Количество() - 1] = Объект.Кількість Тогда // якщо останній елемент не N, то втратили його
			МасивЧисел.Добавить(Объект.Кількість);
		Иначе
			Для Ітератор = 1 По МасивЧисел.Количество() - 1 Цикл //Перший та останній вже перевірили
				
				Если Не МасивЧисел[Ітератор] = МасивЧисел[Ітератор - 1] + 1 Тогда
					МасивЧисел.Вставить(Ітератор, МасивЧисел[Ітератор - 1] + 1);
					Прервать;
				КонецЕсли;
				
			КонецЦикла;			
		КонецЕсли;
	Иначе
		МасивЧисел.Добавить(1);
	КонецЕсли;
	
	СтрокаЗМасивуПісляСортування = СтрСоединить(МасивЧисел, ";");
	Сообщить("Масив виправили: " + СтрокаЗМасивуПісляСортування);	
	
КонецПроцедуры  
	
	
